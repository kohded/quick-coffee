<template name="locationsIndex">
  <!--Search Input-->
  {{> locationsIndexSearchInput}}

  <!--Map-->
  {{> locationsIndexMap}}
  <div class="divider"></div>

  <!--Locations List-->
  {{> locationsIndexLocation}}
  <div class="divider"></div>

  <!--Pagination-->
  {{> locationIndexPagination}}
</template>

<template name="locationsIndexSearchInput">
  <div class="row">
    <form class="col s12 col m8 offset-m2" id="search-locations">
      <div class="input-field">
        <label for="location">City, State, or Zip</label>
        <input id="location" type="text" class="validate" placeholder="">
      </div>
    </form>
  </div>
</template>

<template name="locationsIndexMap">
  <div class="row">
    <div class="col s12">
      <div class="card-panel">
        <div class="map-container">
          {{#unless geolocationError}}
            {{> googleMap name="map" options=mapOptions}}
          {{else}}
            Failed to find your location: {{geolocationError}}
          {{/unless}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="locationsIndexLocation">
  <div class="row">
    <div class="col s12">
      <h4 class="text-center">Locations</h4>
    </div>
    {{#each getBusinesses}}
      <div class="col s12 m6 l4">
        <h5>{{businessName}}</h5>
        <img class="responsive-img rounded-corners"
             src="img/logos/{{businessLogo}}">
        <div class="col s12">
          <address>
            {{businessAddress}}
            {{#if businessAddress2}}
              {{businessAddress2}}<br>
            {{else}}
              <br>
            {{/if}}
            {{businessAddressCity}}, {{businessAddressState}}
            {{businessAddressZip}}<br>
            <abbr title="Phone">P:</abbr> {{businessPhone}}
          </address>
        </div>
        <div class="col s12">
          <hr>
          <a href="{{pathFor 'menuIndex'}}" id="viewMenu"
             class="btn waves-effect waves-green light-green lighten-1">Menu
          </a>
        </div>
      </div>
    {{/each}}
  </div>
</template>

<template name="locationIndexPagination">
  <div class="row">
    <div class="col s12">
      <ul class="pagination center">
        <li class="disabled">
          <a href="#!"><i class="material-icons">chevron_left</i></a>
        </li>
        <li class="waves-effect waves-green light-green lighten-1">
          <a href="#!">1</a></li>
        <li class="waves-effect"><a href="#!">2</a></li>
        <li class="waves-effect"><a href="#!">3</a></li>
        <li class="waves-effect"><a href="#!">4</a></li>
        <li class="waves-effect"><a href="#!">5</a></li>
        <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a>
        </li>
      </ul>
    </div>
  </div>
</template>