<template name="locationsIndex">
  <!--Search Input-->
  {{> locationsIndexSearchInput}}

  <!--Map-->
  {{> locationsIndexMap}}
  <div class="divider"></div>

  <!--Locations List-->
  {{> locationsIndexList}}
  <div class="divider"></div>

  <!--Pagination-->
  {{> locationIndexPagination}}
</template>

<template name="locationsIndexSearchInput">
  {{#autoForm schema=searchSchema id="searchBusiness" type="normal"}}
    <div class="row">
      <div class="input-field col s12 m10">
        {{#if googleMapsReady}}
          {{> afQuickField name="location" type="googleplace" class="form-control" autocomplete="off"}}
        {{/if}}
      </div>
      <div class="input-field col s12 m2">
        {{> afQuickField name="radius"}}
      </div>
    </div>
    <div class="row">
      <div class="col s12">
        <button type="submit"
                class="col s12 btn waves-effect waves-light">
          Search
        </button>
      </div>
    </div>
  {{/autoForm}}
</template>

<template name="locationsIndexMap">
  <div class="row">
    <div class="col s12">
      <div class="card-panel">
        <div id="map-container">
        </div>
      </div>
    </div>
  </div>
</template>

<template name="locationsIndexList">
  <div class="row">
    <div class="col s12">
      <h4 class="text-center">Locations</h4>
    </div>
    {{#each getBusinesses}}
      <div class="col s12 m6 l4">
        <h5>{{businessName}}</h5>
        <img class="responsive-img rounded-corners"
             src="/img/business/logo/logo.jpg">
        <div class="col s12">
          <address>
            {{location.street}}<br>
            {{location.city}}, {{location.state}}
            {{location.zip}}<br>
            <abbr title="Phone">P:</abbr> {{businessPhone}}
          </address>
        </div>
        <div class="col s12">
          <hr>
          <a href="{{pathFor 'menuIndex'}}" id="viewMenu"
             class="btn waves-effect waves-light">Menu
          </a>
        </div>
      </div>
    {{/each}}
  </div>
</template>

<template name="locationIndexPagination">
  <div class="row">
    <div class="col s12">
      <ul class="pagination center">
        <li class="disabled">
          <a href="#!"><i class="material-icons">chevron_left</i></a>
        </li>
        <li class="active teal lighten-1"><a href="#!">1</a></li>
        <li class="waves-effect"><a href="#!">2</a></li>
        <li class="waves-effect"><a href="#!">3</a></li>
        <li class="waves-effect"><a href="#!">4</a></li>
        <li class="waves-effect"><a href="#!">5</a></li>
        <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a>
        </li>
      </ul>
    </div>
  </div>
</template>
